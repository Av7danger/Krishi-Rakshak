[build-system]
requires = ["setuptools>=61.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "krishirakshak-backend"
version = "0.1.0"
description = "FastAPI backend for KrishiRakshak - AI-powered agricultural disease detection and voice assistance"
authors = [{name = "KrishiRakshak Team"}]
readme = "README.md"
requires-python = ">=3.10"
dependencies = [
    "fastapi>=0.104.0",
    "uvicorn[standard]>=0.24.0",
    "sqlalchemy>=2.0.0",
    "sqlmodel>=0.0.14",
    "alembic>=1.12.0",
    "psycopg2-binary>=2.9.0",
    "redis>=5.0.0",
    "celery>=5.3.0",
    "pydantic>=2.5.0",
    "pydantic-settings>=2.1.0",
    "python-jose[cryptography]>=3.3.0",
    "passlib[bcrypt]>=1.7.4",
    "python-multipart>=0.0.6",
    "minio>=7.2.0",
    "boto3>=1.34.0",
    "httpx>=0.25.0",
    "aiofiles>=23.2.0",
    "pillow>=10.1.0",
    "opencv-python>=4.8.0",
    "numpy>=1.24.0",
    "openai>=1.3.0",
    "python-telegram-bot>=20.7",
    "twilio>=8.10.0",
    "gtts>=2.4.0",
    "websockets>=12.0",
    "python-dotenv>=1.0.0",
    "structlog>=23.2.0",
    "prometheus-client>=0.19.0",
]

[project.optional-dependencies]
dev = [
    "pytest>=7.4.0",
    "pytest-asyncio>=0.21.0",
    "pytest-cov>=4.1.0",
    "httpx>=0.25.0",
    "ruff>=0.1.0",
    "black>=23.0.0",
    "mypy>=1.7.0",
]

[tool.ruff]
target-version = "py310"
line-length = 88
select = ["E", "F", "W", "C90", "I", "N", "UP", "YTT", "S", "BLE", "FBT", "B", "A", "COM", "C4", "DTZ", "T10", "EM", "EXE", "FA", "ISC", "ICN", "G", "INP", "PIE", "T20", "PYI", "PT", "Q", "RSE", "RET", "SLF", "SLOT", "SIM", "TID", "TCH", "INT", "ARG", "PTH", "TD", "FIX", "ERA", "PD", "PGH", "PL", "TRY", "FLY", "NPY", "AIR", "PERF", "FURB", "LOG", "RUF"]
ignore = ["S101", "S104", "S105", "S106", "S107", "S108", "S110", "S112", "S113", "S311", "S312", "S314", "S315", "S316", "S317", "S318", "S319", "S320", "S321", "S322", "S323", "S324", "S325", "S326", "S327", "S328", "S329", "S330", "S331", "S332", "S333", "S334", "S335", "S336", "S337", "S338", "S339", "S340", "S341", "S342", "S343", "S344", "S345", "S346", "S347", "S348", "S349", "S350", "S351", "S352", "S353", "S354", "S355", "S356", "S357", "S358", "S359", "S360", "S361", "S362", "S363", "S364", "S365", "S366", "S367", "S368", "S369", "S370", "S371", "S372", "S373", "S374", "S375", "S376", "S377", "S378", "S379", "S380", "S381", "S382", "S383", "S384", "S385", "S386", "S387", "S388", "S389", "S390", "S391", "S392", "S393", "S394", "S395", "S396", "S397", "S398", "S399", "S400", "S401", "S402", "S403", "S404", "S405", "S406", "S407", "S408", "S409", "S410", "S411", "S412", "S413", "S414", "S415", "S416", "S417", "S418", "S419", "S420", "S421", "S422", "S423", "S424", "S425", "S426", "S427", "S428", "S429", "S430", "S431", "S432", "S433", "S434", "S435", "S436", "S437", "S438", "S439", "S440", "S441", "S442", "S443", "S444", "S445", "S446", "S447", "S448", "S449", "S450", "S451", "S452", "S453", "S454", "S455", "S456", "S457", "S458", "S459", "S460", "S461", "S462", "S463", "S464", "S465", "S466", "S467", "S468", "S469", "S470", "S471", "S472", "S473", "S474", "S475", "S476", "S477", "S478", "S479", "S480", "S481", "S482", "S483", "S484", "S485", "S486", "S487", "S488", "S489", "S490", "S491", "S492", "S493", "S494", "S495", "S496", "S497", "S498", "S499", "S500", "S501", "S502", "S503", "S504", "S505", "S506", "S507", "S508", "S509", "S510", "S511", "S512", "S513", "S514", "S515", "S516", "S517", "S518", "S519", "S520", "S521", "S522", "S523", "S524", "S525", "S526", "S527", "S528", "S529", "S530", "S531", "S532", "S533", "S534", "S535", "S536", "S537", "S538", "S539", "S540", "S541", "S542", "S543", "S544", "S545", "S546", "S547", "S548", "S549", "S550", "S551", "S552", "S553", "S554", "S555", "S556", "S557", "S558", "S559", "S560", "S561", "S562", "S563", "S564", "S565", "S566", "S567", "S568", "S569", "S570", "S571", "S572", "S573", "S574", "S575", "S576", "S577", "S578", "S579", "S580", "S581", "S582", "S583", "S584", "S585", "S586", "S587", "S588", "S589", "S590", "S591", "S592", "S593", "S594", "S595", "S596", "S597", "S598", "S599", "S600", "S601", "S602", "S603", "S604", "S605", "S606", "S607", "S608", "S609", "S610", "S611", "S612", "S613", "S614", "S615", "S616", "S617", "S618", "S619", "S620", "S621", "S622", "S623", "S624", "S625", "S626", "S627", "S628", "S629", "S630", "S631", "S632", "S633", "S634", "S635", "S636", "S637", "S638", "S639", "S640", "S641", "S642", "S643", "S644", "S645", "S646", "S647", "S648", "S649", "S650", "S651", "S652", "S653", "S654", "S655", "S656", "S657", "S658", "S659", "S660", "S661", "S662", "S663", "S664", "S665", "S666", "S667", "S668", "S669", "S670", "S671", "S672", "S673", "S674", "S675", "S676", "S677", "S678", "S679", "S680", "S681", "S682", "S683", "S684", "S685", "S686", "S687", "S688", "S689", "S690", "S691", "S692", "S693", "S694", "S695", "S696", "S697", "S698", "S699", "S700", "S701", "S702", "S703", "S704", "S705", "S706", "S707", "S708", "S709", "S710", "S711", "S712", "S713", "S714", "S715", "S716", "S717", "S718", "S719", "S720", "S721", "S722", "S723", "S724", "S725", "S726", "S727", "S728", "S729", "S730", "S731", "S732", "S733", "S734", "S735", "S736", "S737", "S738", "S739", "S740", "S741", "S742", "S743", "S744", "S745", "S746", "S747", "S748", "S749", "S750", "S751", "S752", "S753", "S754", "S755", "S756", "S757", "S758", "S759", "S760", "S761", "S762", "S763", "S764", "S765", "S766", "S767", "S768", "S769", "S770", "S771", "S772", "S773", "S774", "S775", "S776", "S777", "S778", "S779", "S780", "S781", "S782", "S783", "S784", "S785", "S786", "S787", "S788", "S789", "S790", "S791", "S792", "S793", "S794", "S795", "S796", "S797", "S798", "S799", "S800", "S801", "S802", "S803", "S804", "S805", "S806", "S807", "S808", "S809", "S810", "S811", "S812", "S813", "S814", "S815", "S816", "S817", "S818", "S819", "S820", "S821", "S822", "S823", "S824", "S825", "S826", "S827", "S828", "S829", "S830", "S831", "S832", "S833", "S834", "S835", "S836", "S837", "S838", "S839", "S840", "S841", "S842", "S843", "S844", "S845", "S846", "S847", "S848", "S849", "S850", "S851", "S852", "S853", "S854", "S855", "S856", "S857", "S858", "S859", "S860", "S861", "S862", "S863", "S864", "S865", "S866", "S867", "S868", "S869", "S870", "S871", "S872", "S873", "S874", "S875", "S876", "S877", "S878", "S879", "S880", "S881", "S882", "S883", "S884", "S885", "S886", "S887", "S888", "S889", "S890", "S891", "S892", "S893", "S894", "S895", "S896", "S897", "S898", "S899", "S900", "S901", "S902", "S903", "S904", "S905", "S906", "S907", "S908", "S909", "S910", "S911", "S912", "S913", "S914", "S915", "S916", "S917", "S918", "S919", "S920", "S921", "S922", "S923", "S924", "S925", "S926", "S927", "S928", "S929", "S930", "S931", "S932", "S933", "S934", "S935", "S936", "S937", "S938", "S939", "S940", "S941", "S942", "S943", "S944", "S945", "S946", "S947", "S948", "S949", "S950", "S951", "S952", "S953", "S954", "S955", "S956", "S957", "S958", "S959", "S960", "S961", "S962", "S963", "S964", "S965", "S966", "S967", "S968", "S969", "S970", "S971", "S972", "S973", "S974", "S975", "S976", "S977", "S978", "S979", "S980", "S981", "S982", "S983", "S984", "S985", "S986", "S987", "S988", "S989", "S990", "S991", "S992", "S993", "S994", "S995", "S996", "S997", "S998", "S999", "S1000", "S101", "S104", "S105", "S106", "S107", "S108", "S110", "S112", "S113", "S311", "S312", "S314", "S315", "S316", "S317", "S318", "S319", "S320", "S321", "S322", "S323", "S324", "S325", "S326", "S327", "S328", "S329", "S330", "S331", "S332", "S333", "S334", "S335", "S336", "S337", "S338", "S339", "S340", "S341", "S342", "S343", "S344", "S345", "S346", "S347", "S348", "S349", "S350", "S351", "S352", "S353", "S354", "S355", "S356", "S357", "S358", "S359", "S360", "S361", "S362", "S363", "S364", "S365", "S366", "S367", "S368", "S369", "S370", "S371", "S372", "S373", "S374", "S375", "S376", "S377", "S378", "S379", "S380", "S381", "S382", "S383", "S384", "S385", "S386", "S387", "S388", "S389", "S390", "S391", "S392", "S393", "S394", "S395", "S396", "S397", "S398", "S399", "S400", "S401", "S402", "S403", "S404", "S405", "S406", "S407", "S408", "S409", "S410", "S411", "S412", "S413", "S414", "S415", "S416", "S417", "S418", "S419", "S420", "S421", "S422", "S423", "S424", "S425", "S426", "S427", "S428", "S429", "S430", "S431", "S432", "S433", "S434", "S435", "S436", "S437", "S438", "S439", "S440", "S441", "S442", "S443", "S444", "S445", "S446", "S447", "S448", "S449", "S450", "S451", "S452", "S453", "S454", "S455", "S456", "S457", "S458", "S459", "S460", "S461", "S462", "S463", "S464", "S465", "S466", "S467", "S468", "S469", "S470", "S471", "S472", "S473", "S474", "S475", "S476", "S477", "S478", "S479", "S480", "S481", "S482", "S483", "S484", "S485", "S486", "S487", "S488", "S489", "S490", "S491", "S492", "S493", "S494", "S495", "S496", "S497", "S498", "S499", "S500", "S501", "S502", "S503", "S504", "S505", "S506", "S507", "S508", "S509", "S510", "S511", "S512", "S513", "S514", "S515", "S516", "S517", "S518", "S519", "S520", "S521", "S522", "S523", "S524", "S525", "S526", "S527", "S528", "S529", "S530", "S531", "S532", "S533", "S534", "S535", "S536", "S537", "S538", "S539", "S540", "S541", "S542", "S543", "S544", "S545", "S546", "S547", "S548", "S549", "S550", "S551", "S552", "S553", "S554", "S555", "S556", "S557", "S558", "S559", "S560", "S561", "S562", "S563", "S564", "S565", "S566", "S567", "S568", "S569", "S570", "S571", "S572", "S573", "S574", "S575", "S576", "S577", "S578", "S579", "S580", "S581", "S582", "S583", "S584", "S585", "S586", "S587", "S588", "S589", "S590", "S591", "S592", "S593", "S594", "S595", "S596", "S597", "S598", "S599", "S600", "S601", "S602", "S603", "S604", "S605", "S606", "S607", "S608", "S609", "S610", "S611", "S612", "S613", "S614", "S615", "S616", "S617", "S618", "S619", "S620", "S621", "S622", "S623", "S624", "S625", "S626", "S627", "S628", "S629", "S630", "S631", "S632", "S633", "S634", "S635", "S636", "S637", "S638", "S639", "S640", "S641", "S642", "S643", "S644", "S645", "S646", "S647", "S648", "S649", "S650", "S651", "S652", "S653", "S654", "S655", "S656", "S657", "S658", "S659", "S660", "S661", "S662", "S663", "S664", "S665", "S666", "S667", "S668", "S669", "S670", "S671", "S672", "S673", "S674", "S675", "S676", "S677", "S678", "S679", "S680", "S681", "S682", "S683", "S684", "S685", "S686", "S687", "S688", "S689", "S690", "S691", "S692", "S693", "S694", "S695", "S696", "S697", "S698", "S699", "S700", "S701", "S702", "S703", "S704", "S705", "S706", "S707", "S708", "S709", "S710", "S711", "S712", "S713", "S714", "S715", "S716", "S717", "S718", "S719", "S720", "S721", "S722", "S723", "S724", "S725", "S726", "S727", "S728", "S729", "S730", "S731", "S732", "S733", "S734", "S735", "S736", "S737", "S738", "S739", "S740", "S741", "S742", "S743", "S744", "S745", "S746", "S747", "S748", "S749", "S750", "S751", "S752", "S753", "S754", "S755", "S756", "S757", "S758", "S759", "S760", "S761", "S762", "S763", "S764", "S765", "S766", "S767", "S768", "S769", "S770", "S771", "S772", "S773", "S774", "S775", "S776", "S777", "S778", "S779", "S780", "S781", "S782", "S783", "S784", "S785", "S786", "S787", "S788", "S789", "S790", "S791", "S792", "S793", "S794", "S795", "S796", "S797", "S798", "S799", "S800", "S801", "S802", "S803", "S804", "S805", "S806", "S807", "S808", "S809", "S810", "S811", "S812", "S813", "S814", "S815", "S816", "S817", "S818", "S819", "S820", "S821", "S822", "S823", "S824", "S825", "S826", "S827", "S828", "S829", "S830", "S831", "S832", "S833", "S834", "S835", "S836", "S837", "S838", "S839", "S840", "S841", "S842", "S843", "S844", "S845", "S846", "S847", "S848", "S849", "S850", "S851", "S852", "S853", "S854", "S855", "S856", "S857", "S858", "S859", "S860", "S861", "S862", "S863", "S864", "S865", "S866", "S867", "S868", "S869", "S870", "S871", "S872", "S873", "S874", "S875", "S876", "S877", "S878", "S879", "S880", "S881", "S882", "S883", "S884", "S885", "S886", "S887", "S888", "S889", "S890", "S891", "S892", "S893", "S894", "S895", "S896", "S897", "S898", "S899", "S900", "S901", "S902", "S903", "S904", "S905", "S906", "S907", "S908", "S909", "S910", "S911", "S912", "S913", "S914", "S915", "S916", "S917", "S918", "S919", "S920", "S921", "S922", "S923", "S924", "S925", "S926", "S927", "S928", "S929", "S930", "S931", "S932", "S933", "S934", "S935", "S936", "S937", "S938", "S939", "S940", "S941", "S942", "S943", "S944", "S945", "S946", "S947", "S948", "S949", "S950", "S951", "S952", "S953", "S954", "S955", "S956", "S957", "S958", "S959", "S960", "S961", "S962", "S963", "S964", "S965", "S966", "S967", "S968", "S969", "S970", "S971", "S972", "S973", "S974", "S975", "S976", "S977", "S978", "S979", "S980", "S981", "S982", "S983", "S984", "S985", "S986", "S987", "S988", "S989", "S990", "S991", "S992", "S993", "S994", "S995", "S996", "S997", "S998", "S999", "S1000"]

[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = ["test_*.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]
addopts = "-v --tb=short --strict-markers"
markers = [
    "unit: Unit tests",
    "integration: Integration tests",
    "slow: Slow tests",
]

[tool.mypy]
python_version = "3.10"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true
disallow_incomplete_defs = true
check_untyped_defs = true
disallow_untyped_decorators = true
no_implicit_optional = true
warn_redundant_casts = true
warn_unused_ignores = true
warn_no_return = true
warn_unreachable = true
strict_equality = true

[tool.black]
line-length = 88
target-version = ['py310']
include = '\.pyi?$'
extend-exclude = '''
/(
  # directories
  \.eggs
  | \.git
  | \.hg
  | \.mypy_cache
  | \.tox
  | \.venv
  | build
  | dist
)/
'''
